var h=Object.defineProperty;var p=(n,e,t)=>e in n?h(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var o=(n,e,t)=>(p(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();class m{constructor(e,t,s){o(this,"name");o(this,"surname");o(this,"email");o(this,"img");o(this,"phone");o(this,"city");o(this,"country");this.name=e,this.surname=t,this.email=s}set name(e){this.name=e}set surname(e){this.surname=e}set email(e){this.email=e}set img(e){this.img=e}set phone(e){this.phone=e}set city(e){this.city=e}set country(e){this.country=e}get name(){return this.name}get surname(){return this.surname}get email(){return this.email}get img(){return this.img}get phone(){return this.phone}get city(){return this.city}get country(){return this.country}static createPerson(e){const t=new m(e.name.first,e.name.last,e.email);return t.img=e.picture.thumbnail,t.phone=e.phone,t.city=e.location.city,t.country=e.location.country,t}}class g{constructor(e){o(this,"hour");o(this,"minute");o(this,"second");this.hour=e.hour,this.minute=e.minute,this.second=e.second}getHourTime(){return`${this.hour}:${this.minute}:${this.second}`}}async function f(){const n=document.getElementsByClassName("generate-user-button")[0];n.disabled=!0,n.innerHTML="LOADING USER...";const t=(await(await fetch("https://randomuser.me/api/?inc=name,email,phone,picture,location")).json()).results[0];return m.createPerson(t)}async function y(n){n=n.split(" ")[0];const e=`https://world-time-by-api-ninjas.p.rapidapi.com/v1/worldtime?city=${n}`,t={method:"GET",headers:{"X-RapidAPI-Key":"c4467b972cmshe6399c5a65fe868p1b7c00jsnf82a3a37fdbc","X-RapidAPI-Host":"world-time-by-api-ninjas.p.rapidapi.com"}};try{return await(await fetch(e,t)).json()}catch(s){return console.error(s),null}}async function l(n,e=null){let t;const s=document.createElement("img");e?(s.src=e.img,t=new g(await y(e.city))):s.src="user_nt_found.jpg",n.innerHTML="",n.appendChild(s);let r={};e?r={Name:`${e.name} ${e.surname}`,Mail:e.email,Phone:e.phone,Location:`${e.city}, ${e.country}`,"Current Time":t.getHourTime()}:r={Name:"name surname",Mail:"mail",Phone:"phone",Location:"city","Current Time":"time"};for(let a in r){const u=document.createElement("span"),d=document.createElement("strong");d.textContent=a,u.appendChild(d),u.appendChild(document.createTextNode(`: ${r[a]}`)),n.appendChild(u)}const i=document.getElementsByClassName("generate-user-button")[0];i&&(i.innerHTML="GENERATE USER",i.disabled=!1)}async function E(){const n=await f();l(c,n)}const c=document.createElement("div");c.classList.add("card");document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementsByClassName("container")[0];n.appendChild(c);let e=document.createElement("img");e.src="user_nt_found.jpg",l(c);const t=document.createElement("button");t.classList.add("generate-user-button"),t.textContent="GENERATE USER",t.addEventListener("click",E),n.appendChild(t)});
